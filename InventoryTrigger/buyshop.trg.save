IF trigger == "open"
	buyMap = nucleus.servershop.getBuyPrices()
	page = 0
ENDIF

IF trigger == "click"
	IF slot == 45 && page > 0
		page = page - 1
	ENDIF

	IF slot == 53 && (page+1)*45 < buyMap.size()
		page = page + 1
	ENDIF
ENDIF

IF trigger != "close"
	entrySet = buyMap.entrySet()
	
	index = page*45
	toIndex = page*45+45
	WHILE index <= toIndex
		item = item(entry.getKey().getId(), 1)

		inventory.set(index%45,index/45,item)

		index = index + 1
		
	ENDFOR
ENDIF
